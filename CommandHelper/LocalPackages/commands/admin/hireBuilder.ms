register_command('hirebuilder', 

    array(
        'description': 'Hire\'s a Player as a builder',
        'usage': '/hirebuilder <player>',
        'permission': 'hire.builder',
        'noPermMsg': 'Sorry you don\'t have permission to use this command.',
        'executor': closure(@alias, @sender, @args) {
        
            if (array_size(@args) != 1) {		
                cancel()
            }
            
            @player = player()
            @vic = player(@args[0])
            if(has_permission(@vic,'donot.hire')){
                msg(color('RED').'Sorry, that person can no longer be hired')
                die()
            }

            include('/home/minecraft/server/plugins/CommandHelper/includes/checkJobs.ms')
            if(!_checkJobs(@vic)){
                die()
            }

            sudo("/lp user ".@vic." permission set is.builder")
            sudo("/lp user ".@vic." permission set essentials.warps.buildworld")
            sudo("/lp user ".@vic." parent add builder")
            tmsg(@player,color('RED')."You have hired ".@vic." as a builder!")
            tmsg(@vic,color('RED')."You have been hired as a builder!")	
        }
    )
)

register_command('firebuilder', 

    array(
        'description': 'Fire\'s a Player as a builder',
        'usage': '/firebuilder <player>',
        'permission': 'fire.builder',
        'noPermMsg': 'Sorry you don\'t have permission to use this command.',
        'executor': closure(@alias, @sender, @args) {
        
            if (array_size(@args) != 1) {		
                cancel()
            }

            @player = player()
            @vic = player(@args[0])
            sudo("/lp user ".@vic." permission unset is.builder")
            sudo("/lp user ".@vic." permission unset essentials.warps.buildworld")
            sudo("/pex lp ".@vic." parent remove builder")
            tmsg(@player,color('RED')."You have fired ".@vic." from builder!")
            tmsg(@vic,color('RED')."You have been fired from builder!")	
        }
    )
)

register_command('givewe', 

    array(
        'description': 'Give WorldEdit to a player',
        'usage': '/givewe <player>',
        'permission': 'give.we',
        'noPermMsg': 'Sorry you don\'t have permission to use this command.',
        'executor': closure(@alias, @sender, @args) {
        
            if (array_size(@args) != 1) {		
                cancel()
            }
            
            @player = player()
            @vic = player(@args[0])
            sudo("/pex user ".@vic." add worldedit.* buildworld")
            sudo("/pex user ".@vic." add fawe.admin buildworld")
            sudo("/pex user ".@vic." add essentials.skull buildworld")
            sudo("/pex user ".@vic." add essentials.skull.* buildworld")
            tmsg(@player,color('RED')."You have given ".@vic." WorldEdit!")
            tmsg(@vic,color('RED')."You have been given WorldEdit!")	
        }
    )
)

register_command('takewe', 

    array(
        'description': 'Take WorldEdit from a player',
        'usage': '/takewe <player>',
        'permission': 'take.we',
        'noPermMsg': 'Sorry you don\'t have permission to use this command.',
        'executor': closure(@alias, @sender, @args) {
        
            if (array_size(@args) != 1) {
                cancel()
            }
            
            @player = player()
            @vic = player(@args[0])
            sudo("/pex user ".@vic." remove worldedit.* buildworld")
            sudo("/pex user ".@vic." remove essentials.skull buildworld")
            sudo("/pex user ".@vic." remove fawe.admin buildworld")
            sudo("/pex user ".@vic." remove essentials.skull.* buildworld")
            tmsg(@player,color('RED')."You have taken WorldEdit from ".@vic)
            tmsg(@vic,color('RED')."You have had WorldEdit taken from you!")	
        }
    )
)
